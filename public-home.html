<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Vista Lectura · Villa Fiad</title>
<link href="css/styles.css" rel="stylesheet"/>
</head>
<body>
<div class="app-shell">
<header class="topbar">
<div class="topbar__left">
<img alt="" src="assets/favicon.svg" style="width:22px;height:22px;"/>
<strong>Villa Fiad</strong>
</div>
<div class="topbar__right">
<span class="badge">Solo lectura</span>
<button class="btn sm" id="btnSalirPublico">Salir</button>
</div>
</header>
<main class="container" style="max-width:860px;">
<div class="card">
<h2 style="margin-top:0;">Qué querés ver</h2>
<p class="muted">Acceso de lectura para el grupo. No permite editar.</p>
<div class="grid" style="grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:12px; margin-top:12px;">
<a class="card linkcard" href="tablero-acomodadores.html">
<h3>Tablero Acomodadores</h3>
<p class="muted">Asignaciones mensuales para imprimir/WhatsApp.</p>
</a>
<a class="card linkcard" href="tablero-multimedia.html">
<h3>Tablero Multimedia</h3>
<p class="muted">Audio y video para el tablero.</p>
</a>
<a class="card linkcard" href="salientes.html">
<h3>Discursantes salientes</h3>
<p class="muted">Arreglos para salidas a otras congregaciones.</p>
</a>
</div>
</div>
</main>
</div>
<script>
(function(){
  if(!('serviceWorker' in navigator)) return;
  let refreshing = false;
  window.addEventListener('load', function(){
    navigator.serviceWorker.register('./sw.js').then(function(reg){
      // Si hay una versión esperando, activala
      if(reg.waiting) reg.waiting.postMessage({type:'SKIP_WAITING'});

      reg.addEventListener('updatefound', function(){
        var nw = reg.installing;
        if(!nw) return;
        nw.addEventListener('statechange', function(){
          if(nw.state === 'installed' && navigator.serviceWorker.controller){
            nw.postMessage({type:'SKIP_WAITING'});
          }
        });
      });
    }).catch(function(e){
      console.log('SW error', e);
    });

    navigator.serviceWorker.addEventListener('controllerchange', function(){
      if(refreshing) return;
      refreshing = true;
      location.reload();
    });
  });
})();
</script><script src="js/pages/public-home.js" type="module"></script>
</body>
</html>
